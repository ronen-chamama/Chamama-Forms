{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/chamama-forms/lib/firebaseClient.ts"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\";\r\nimport { getAuth, connectAuthEmulator } from \"firebase/auth\";\r\nimport { getFirestore, connectFirestoreEmulator } from \"firebase/firestore\";\r\nimport { getStorage, connectStorageEmulator } from \"firebase/storage\";\r\nimport { getFunctions, connectFunctionsEmulator } from \"firebase/functions\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FB_API_KEY!,\r\n  authDomain: process.env.NEXT_PUBLIC_FB_AUTH_DOMAIN!,\r\n  projectId: process.env.NEXT_PUBLIC_FB_PROJECT_ID!,\r\n  storageBucket: process.env.NEXT_PUBLIC_FB_STORAGE_BUCKET!,\r\n  appId: process.env.NEXT_PUBLIC_FB_APP_ID!,\r\n};\r\n\r\nexport const app = getApps().length ? getApp() : initializeApp(firebaseConfig);\r\n\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\nexport const storage = getStorage(app);\r\n// חשוב: אזור תואם ל-export של הפונקציה\r\nexport const functions = getFunctions(app, \"us-central1\");\r\n\r\n// חיבור אמולטורים לוקאלית\r\nif (typeof window !== \"undefined\" && location.hostname === \"localhost\") {\r\n  connectAuthEmulator(auth, \"http://127.0.0.1:9099\");\r\n  connectFirestoreEmulator(db, \"127.0.0.1\", 8080);\r\n  connectStorageEmulator(storage, \"127.0.0.1\", 9199);\r\n  connectFunctionsEmulator(functions, \"127.0.0.1\", 5001);\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAOU;AAPV;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,KAAK;AACP;AAEO,MAAM,MAAM,IAAA,8KAAO,IAAG,MAAM,GAAG,IAAA,6KAAM,MAAK,IAAA,oLAAa,EAAC;AAExD,MAAM,OAAO,IAAA,wKAAO,EAAC;AACrB,MAAM,KAAK,IAAA,kLAAY,EAAC;AACxB,MAAM,UAAU,IAAA,8KAAU,EAAC;AAE3B,MAAM,YAAY,IAAA,yLAAY,EAAC,KAAK;AAE3C,0BAA0B;AAC1B,IAAI,aAAkB,eAAe,SAAS,QAAQ,KAAK,aAAa;IACtE,IAAA,oLAAmB,EAAC,MAAM;IAC1B,IAAA,8LAAwB,EAAC,IAAI,aAAa;IAC1C,IAAA,0LAAsB,EAAC,SAAS,aAAa;IAC7C,IAAA,qMAAwB,EAAC,WAAW,aAAa;AACnD","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/chamama-forms/components/constants.ts"],"sourcesContent":["export const GROUPS = [\"ברקן\", \"גרניום\", \"דוריאן\", \"הל\"];\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,SAAS;IAAC;IAAQ;IAAU;IAAU;CAAK","debugId":null}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///C:/chamama-forms/components/SignaturePad.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useRef } from \"react\";\r\nimport SignatureCanvas from \"react-signature-canvas\";\r\n\r\nexport default function SignaturePad({\r\n  onChange,\r\n  width = 500,\r\n  height = 180,\r\n}: {\r\n  onChange: (dataUrl: string | null) => void;\r\n  width?: number;\r\n  height?: number;\r\n}) {\r\n  const ref = useRef<SignatureCanvas>(null);\r\n\r\n  function handleEnd() {\r\n    const data = ref.current?.toDataURL(\"image/png\"); // חייב להחזיר data:image/png;base64,....\r\n    onChange(data || null);\r\n  }\r\n\r\n  function clear() {\r\n    ref.current?.clear();\r\n    onChange(null);\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-2\">\r\n      <SignatureCanvas\r\n        ref={ref}\r\n        penColor=\"black\"\r\n        onEnd={handleEnd}\r\n        canvasProps={{ width, height, className: \"border rounded bg-white\" }}\r\n      />\r\n      <button type=\"button\" onClick={clear} className=\"border px-3 py-1 rounded\">\r\n        נקה חתימה\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;AAFA;;;AAIe,SAAS,aAAa,KAQpC;QARoC,EACnC,QAAQ,EACR,QAAQ,GAAG,EACX,SAAS,GAAG,EAKb,GARoC;;IASnC,MAAM,MAAM,IAAA,uKAAM,EAAkB;IAEpC,SAAS;YACM;QAAb,MAAM,QAAO,eAAA,IAAI,OAAO,cAAX,mCAAA,aAAa,SAAS,CAAC,cAAc,yCAAyC;QAC3F,SAAS,QAAQ;IACnB;IAEA,SAAS;YACP;SAAA,eAAA,IAAI,OAAO,cAAX,mCAAA,aAAa,KAAK;QAClB,SAAS;IACX;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,4KAAe;gBACd,KAAK;gBACL,UAAS;gBACT,OAAO;gBACP,aAAa;oBAAE;oBAAO;oBAAQ,WAAW;gBAA0B;;;;;;0BAErE,6LAAC;gBAAO,MAAK;gBAAS,SAAS;gBAAO,WAAU;0BAA2B;;;;;;;;;;;;AAKjF;GAlCwB;KAAA","debugId":null}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///C:/chamama-forms/app/f/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { db, functions } from \"@/lib/firebaseClient\";\r\nimport {\r\n  doc, getDoc, collection, getDocs, query as fsQuery, where, limit,\r\n} from \"firebase/firestore\";\r\nimport { httpsCallable } from \"firebase/functions\";\r\nimport { GROUPS } from \"@/components/constants\";\r\nimport SignaturePad from \"@/components/SignaturePad\";\r\n\r\ntype FieldType =\r\n  | \"text\" | \"textarea\" | \"parentName\"\r\n  | \"number\" | \"phone\" | \"email\"\r\n  | \"consent\" | \"select\" | \"radio\" | \"checkbox\"\r\n  | \"signature\";\r\n\r\ntype Field = {\r\n  id: string;\r\n  type: FieldType;\r\n  label: string;\r\n  required?: boolean;\r\n  options?: string[];\r\n  description?: string;\r\n};\r\n\r\ntype FormDoc = {\r\n  title?: string;\r\n  descriptionHtml?: string;\r\n  schema?: Field[];\r\n  notifyEmails?: string[];\r\n  publicId?: string;\r\n};\r\n\r\nexport default function ParentFormPage() {\r\n  const { id: incomingId } = useParams<{ id: string }>();\r\n  const router = useRouter();\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [form, setForm] = useState<FormDoc | null>(null);\r\n  const [schema, setSchema] = useState<Field[]>([]);\r\n  const [resolvedFormId, setResolvedFormId] = useState<string>(incomingId); // נטען/נעדכן אחרי פולבאק\r\n  const [msg, setMsg] = useState<string>(\"\");\r\n\r\n  // תשובות — כולל שני השדות הקבועים מראש\r\n  const [answers, setAnswers] = useState<Record<string, any>>({\r\n    studentName: \"\",\r\n    group: \"\",\r\n  });\r\n  const [signatureDataUrl, setSignatureDataUrl] = useState<string | null>(null);\r\n  const [sending, setSending] = useState(false);\r\n\r\n  // טען טופס (מנסה קודם לפי מזהה מסמך; אם לא נמצא – מחפש לפי publicId)\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true);\r\n      try {\r\n        // ניסיון ישיר כמסמך\r\n        let snap = await getDoc(doc(db, \"forms\", incomingId));\r\n        let formIdToUse = incomingId;\r\n\r\n        if (!snap.exists()) {\r\n          // חיפוש לפי publicId\r\n          const qs = await getDocs(\r\n            fsQuery(\r\n              collection(db, \"forms\"),\r\n              where(\"publicId\", \"==\", incomingId),\r\n              limit(1)\r\n            )\r\n          );\r\n          if (!qs.empty) {\r\n            snap = qs.docs[0];\r\n            formIdToUse = snap.id;\r\n          }\r\n        }\r\n\r\n        if (!snap.exists()) {\r\n          setForm(null);\r\n          setSchema([]);\r\n          return;\r\n        }\r\n\r\n        const data = (snap.data() || {}) as FormDoc;\r\n        setForm(data);\r\n        setSchema((data.schema || []) as Field[]);\r\n        setResolvedFormId(formIdToUse);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [incomingId]);\r\n\r\n  // מזהים לשדות מיוחדים (לטלפון/מייל) לטובת ולידציה\r\n  const phoneFieldId = useMemo(\r\n    () => schema.find((f) => f.type === \"phone\")?.id,\r\n    [schema]\r\n  );\r\n  const emailFieldId = useMemo(\r\n    () => schema.find((f) => f.type === \"email\")?.id,\r\n    [schema]\r\n  );\r\n\r\n  // האם יש שדה חתימה חובה בסכימה\r\n  const signatureRequired = useMemo(\r\n    () => schema.some((f) => f.type === \"signature\" && f.required),\r\n    [schema]\r\n  );\r\n\r\n  function setAns(key: string, val: any) {\r\n    setAnswers((a) => ({ ...a, [key]: val }));\r\n  }\r\n\r\n  function toggleCheckboxArray(fieldId: string, val: string, checked: boolean) {\r\n    setAnswers((a) => {\r\n      const arr: string[] = Array.isArray(a[fieldId]) ? a[fieldId] : [];\r\n      const next = checked ? Array.from(new Set([...arr, val])) : arr.filter((x) => x !== val);\r\n      return { ...a, [fieldId]: next };\r\n    });\r\n  }\r\n\r\n  async function onSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setMsg(\"\");\r\n\r\n    // ולידציה בסיסית\r\n    if (!answers.studentName?.trim()) return setMsg(\"נא למלא את שם החניכ.ה\");\r\n    if (!answers.group) return setMsg(\"נא לבחור קבוצה\");\r\n\r\n    if (emailFieldId && answers[emailFieldId]) {\r\n      const ok = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(String(answers[emailFieldId]));\r\n      if (!ok) return setMsg(\"כתובת אימייל לא תקינה\");\r\n    }\r\n    if (phoneFieldId && answers[phoneFieldId]) {\r\n      const ok = /^[0-9+\\-\\s()]{7,}$/.test(String(answers[phoneFieldId]));\r\n      if (!ok) return setMsg(\"מספר טלפון לא תקין\");\r\n    }\r\n\r\n    // חובה: שדות הנדרשים בסכמה\r\n    const missingRequired = schema.filter((f) => f.required).some((f) => {\r\n      const v = answers[f.id];\r\n      if (f.type === \"checkbox\") return !Array.isArray(v) || v.length === 0;\r\n      if (f.type === \"consent\") return v !== true;\r\n      if (f.type === \"signature\") return false; // נטפל בזה בנפרד\r\n      return v == null || String(v).trim() === \"\";\r\n    });\r\n    if (missingRequired) return setMsg(\"יש למלא את כל השדות המסומנים כחובה\");\r\n\r\n    if (signatureRequired && !signatureDataUrl) {\r\n      return setMsg(\"נדרשת חתימה\");\r\n    }\r\n\r\n    try {\r\n      setSending(true);\r\n      const fn = httpsCallable(functions, \"submitFormToDrive\");\r\n      await fn({\r\n        formId: resolvedFormId,        // תומך בגרסת הפונקציה הקיימת\r\n        publicId: incomingId,          // ואם עדכנת לפולבאק בצד השרת — אז גם זה קיים\r\n        answers,\r\n        signatureDataUrl: signatureDataUrl || null,\r\n      });\r\n      router.replace(`/f/${incomingId}/thanks`);\r\n    } catch (err: any) {\r\n      console.error(err);\r\n      setMsg(err?.message || err?.code || \"אירעה שגיאה בשליחה\");\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return <main dir=\"rtl\" className=\"p-6 max-w-3xl mx-auto\">טוען…</main>;\r\n  }\r\n  if (!form) {\r\n    return <main dir=\"rtl\" className=\"p-6 max-w-3xl mx-auto\">הטופס לא נמצא.</main>;\r\n  }\r\n\r\n  return (\r\n    <main dir=\"rtl\" className=\"p-6 max-w-3xl mx-auto\">\r\n      <h1 className=\"text-2xl font-semibold mb-2\">{form.title || \"טופס\"}</h1>\r\n\r\n      {form.descriptionHtml && (\r\n        <div\r\n          className=\"prose prose-sm max-w-none mb-6\"\r\n          // אם תרצה סינון ל-HTML שמודבק מוורד, נוסיף בהמשך sanitizer\r\n          dangerouslySetInnerHTML={{ __html: form.descriptionHtml }}\r\n        />\r\n      )}\r\n\r\n      <form onSubmit={onSubmit} className=\"space-y-4\">\r\n        {/* 1) שם החניכ.ה (חובה) */}\r\n        <div className=\"border rounded p-3 bg-white\">\r\n          <div className=\"text-sm mb-1\">\r\n            שם החניכ.ה <span className=\"text-red-600\">*</span>\r\n          </div>\r\n          <input\r\n            className=\"border p-2 w-full rounded\"\r\n            value={answers.studentName || \"\"}\r\n            onChange={(e) => setAns(\"studentName\", e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        {/* 2) קבוצה בחממה (חובה) */}\r\n        <div className=\"border rounded p-3 bg-white\">\r\n          <div className=\"text-sm mb-1\">\r\n            קבוצה בחממה <span className=\"text-red-600\">*</span>\r\n          </div>\r\n          <select\r\n            className=\"border p-2 w-full rounded\"\r\n            value={answers.group || \"\"}\r\n            onChange={(e) => setAns(\"group\", e.target.value)}\r\n            required\r\n          >\r\n            <option value=\"\">בחר/י קבוצה…</option>\r\n            {GROUPS.map((g) => (\r\n              <option key={g} value={g}>{g}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* שאר השדות מה־schema */}\r\n        {schema.map((f) => (\r\n          <div key={f.id} className=\"border rounded p-3 bg-white\">\r\n            <div className=\"text-sm mb-1\">\r\n              {f.label} {f.required && <span className=\"text-red-600\">*</span>}\r\n            </div>\r\n\r\n            {f.type === \"text\" && (\r\n              <input\r\n                className=\"border p-2 w-full rounded\"\r\n                value={answers[f.id] || \"\"}\r\n                onChange={(e) => setAns(f.id, e.target.value)}\r\n                required={f.required}\r\n              />\r\n            )}\r\n\r\n            {f.type === \"textarea\" && (\r\n              <textarea\r\n                className=\"border p-2 w-full rounded\"\r\n                value={answers[f.id] || \"\"}\r\n                onChange={(e) => setAns(f.id, e.target.value)}\r\n                required={f.required}\r\n                rows={4}\r\n              />\r\n            )}\r\n\r\n            {f.type === \"parentName\" && (\r\n              <input\r\n                className=\"border p-2 w-full rounded\"\r\n                value={answers[f.id] || \"\"}\r\n                onChange={(e) => setAns(f.id, e.target.value)}\r\n                placeholder=\"שם ההורה\"\r\n                required={f.required}\r\n              />\r\n            )}\r\n\r\n            {f.type === \"number\" && (\r\n              <input\r\n                type=\"number\"\r\n                className=\"border p-2 w-full rounded\"\r\n                value={answers[f.id] ?? \"\"}\r\n                onChange={(e) => setAns(f.id, e.target.value)}\r\n                required={f.required}\r\n              />\r\n            )}\r\n\r\n            {f.type === \"phone\" && (\r\n              <input\r\n                type=\"tel\"\r\n                inputMode=\"tel\"\r\n                className=\"border p-2 w-full rounded\"\r\n                value={answers[f.id] || \"\"}\r\n                onChange={(e) => setAns(f.id, e.target.value)}\r\n                placeholder=\"למשל: 050-1234567\"\r\n                required={f.required}\r\n              />\r\n            )}\r\n\r\n            {f.type === \"email\" && (\r\n              <input\r\n                type=\"email\"\r\n                className=\"border p-2 w-full rounded\"\r\n                value={answers[f.id] || \"\"}\r\n                onChange={(e) => setAns(f.id, e.target.value)}\r\n                placeholder=\"name@example.com\"\r\n                required={f.required}\r\n              />\r\n            )}\r\n\r\n            {f.type === \"consent\" && (\r\n              <label className=\"flex items-start gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={!!answers[f.id]}\r\n                  onChange={(e) => setAns(f.id, e.target.checked)}\r\n                  required={f.required}\r\n                />\r\n                <span className=\"text-sm leading-6\">\r\n                  {f.description || \"אני מאשר/ת...\"}\r\n                </span>\r\n              </label>\r\n            )}\r\n\r\n            {f.type === \"select\" && (\r\n              <select\r\n                className=\"border p-2 w-full rounded\"\r\n                value={answers[f.id] || \"\"}\r\n                onChange={(e) => setAns(f.id, e.target.value)}\r\n                required={f.required}\r\n              >\r\n                <option value=\"\">בחר/י…</option>\r\n                {(f.options || []).map((opt, i) => (\r\n                  <option key={i} value={opt}>{opt}</option>\r\n                ))}\r\n              </select>\r\n            )}\r\n\r\n            {f.type === \"radio\" && (\r\n              <div className=\"flex flex-col gap-1\">\r\n                {(f.options || []).map((opt, i) => (\r\n                  <label key={i} className=\"flex items-center gap-2\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name={f.id}\r\n                      checked={answers[f.id] === opt}\r\n                      onChange={() => setAns(f.id, opt)}\r\n                      required={f.required && i === 0 && !answers[f.id]}\r\n                    />\r\n                    <span>{opt}</span>\r\n                  </label>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            {f.type === \"checkbox\" && (\r\n              <div className=\"flex flex-col gap-1\">\r\n                {(f.options || []).map((opt, i) => {\r\n                  const checked = Array.isArray(answers[f.id]) && answers[f.id].includes(opt);\r\n                  return (\r\n                    <label key={i} className=\"flex items-center gap-2\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={checked}\r\n                        onChange={(e) => toggleCheckboxArray(f.id, opt, e.target.checked)}\r\n                      />\r\n                      <span>{opt}</span>\r\n                    </label>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n\r\n            {f.type === \"signature\" && (\r\n              <SignaturePad onChange={(dataUrl) => setSignatureDataUrl(dataUrl)} />\r\n            )}\r\n          </div>\r\n        ))}\r\n\r\n        {msg && <div className=\"text-red-600\">{msg}</div>}\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"border p-2 rounded\"\r\n          disabled={sending}\r\n        >\r\n          {sending ? \"שולח…\" : \"שלח\"}\r\n        </button>\r\n      </form>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}