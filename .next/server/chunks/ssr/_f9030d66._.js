module.exports=[77518,(a,b,c)=>{function d(){return b.exports=d=Object.assign.bind(),b.exports.__esModule=!0,b.exports.default=b.exports,d.apply(null,arguments)}b.exports=d,b.exports.__esModule=!0,b.exports.default=b.exports},9244,(a,b,c)=>{b.exports=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c},b.exports.__esModule=!0,b.exports.default=b.exports},92743,(a,b,c)=>{var d=a.r(9244);b.exports=function(a,b){if(null==a)return{};var c,e,f=d(a,b);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(a);for(e=0;e<g.length;e++)c=g[e],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(f[c]=a[c])}return f},b.exports.__esModule=!0,b.exports.default=b.exports},15898,(a,b,c)=>{function d(a){return b.exports=d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b.exports.__esModule=!0,b.exports.default=b.exports,d(a)}b.exports=d,b.exports.__esModule=!0,b.exports.default=b.exports},59942,(a,b,c)=>{var d=a.r(15898).default;b.exports=function(a,b){if("object"!=d(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var e=c.call(a,b||"default");if("object"!=d(e))return e;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)},b.exports.__esModule=!0,b.exports.default=b.exports},71003,(a,b,c)=>{var d=a.r(15898).default,e=a.r(59942);b.exports=function(a){var b=e(a,"string");return"symbol"==d(b)?b:b+""},b.exports.__esModule=!0,b.exports.default=b.exports},74626,(a,b,c)=>{var d=a.r(71003);function e(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(a,d(e.key),e)}}b.exports=function(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a},b.exports.__esModule=!0,b.exports.default=b.exports},7295,(a,b,c)=>{b.exports=function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")},b.exports.__esModule=!0,b.exports.default=b.exports},16631,(a,b,c)=>{function d(a,c){return b.exports=d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},b.exports.__esModule=!0,b.exports.default=b.exports,d(a,c)}b.exports=d,b.exports.__esModule=!0,b.exports.default=b.exports},44248,(a,b,c)=>{var d=a.r(16631);b.exports=function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&d(a,b)},b.exports.__esModule=!0,b.exports.default=b.exports},35586,(a,b,c)=>{function d(a){return b.exports=d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},b.exports.__esModule=!0,b.exports.default=b.exports,d(a)}b.exports=d,b.exports.__esModule=!0,b.exports.default=b.exports},37660,(a,b,c)=>{function d(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(b.exports=d=function(){return!!a},b.exports.__esModule=!0,b.exports.default=b.exports)()}b.exports=d,b.exports.__esModule=!0,b.exports.default=b.exports},46244,(a,b,c)=>{b.exports=function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a},b.exports.__esModule=!0,b.exports.default=b.exports},50503,(a,b,c)=>{var d=a.r(15898).default,e=a.r(46244);b.exports=function(a,b){if(b&&("object"==d(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");return e(a)},b.exports.__esModule=!0,b.exports.default=b.exports},19067,(a,b,c)=>{var d=a.r(35586),e=a.r(37660),f=a.r(50503);b.exports=function(a){var b=e();return function(){var c,e=d(a);return c=b?Reflect.construct(e,arguments,d(this).constructor):e.apply(this,arguments),f(this,c)}},b.exports.__esModule=!0,b.exports.default=b.exports},82520,(a,b,c)=>{"use strict";b.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},24560,(a,b,c)=>{"use strict";var d=a.r(82520);function e(){}function f(){}f.resetWarningCache=e,b.exports=function(){function a(a,b,c,e,f,g){if(g!==d){var h=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function b(){return a}a.isRequired=a;var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:f,resetWarningCache:e};return c.PropTypes=c,c}},41212,(a,b,c)=>{b.exports=a.r(24560)()},63301,(a,b,c)=>{a.e,b.exports=function(){var a=[function(a,b){"use strict";function c(a,b,c,d){return({red:d[4*(c*b+a)],green:d[4*(c*b+a)+1],blue:d[4*(c*b+a)+2],alpha:d[4*(c*b+a)+3]}).alpha}function d(a,b,d,e){for(var f=a?1:-1,g=a?0:d-1,h=g;a?h<d:h>-1;h+=f)for(var i=0;i<b;i++)if(c(i,h,b,e))return h;return null}function e(a,b,d,e){for(var f=a?1:-1,g=a?0:b-1,h=g;a?h<b:h>-1;h+=f)for(var i=0;i<d;i++)if(c(h,i,b,e))return h;return null}Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a){var b=a.getContext("2d"),c=a.width,f=a.height,g=b.getImageData(0,0,c,f).data,h=d(!0,c,f,g),i=d(!1,c,f,g),j=e(!0,c,f,g),k=e(!1,c,f,g)-j+1,l=i-h+1,m=b.getImageData(j,h,k,l);return a.width=k,a.height=l,b.clearRect(0,0,k,l),b.putImageData(m,0,0),a}}];function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}()},11769,a=>{"use strict";a.s(["default",()=>q],11769);var b=a.i(87924),c=a.i(72131),d=a.i(77518),e=a.i(92743),f=a.i(74626),g=a.i(7295),h=a.i(44248),i=a.i(19067),j=a.i(41212);function k(a,b,c){this.x=a,this.y=b,this.time=c||new Date().getTime()}function l(a,b,c,d){this.startPoint=a,this.control1=b,this.control2=c,this.endPoint=d}function m(a,b){var c,d,e,f,g,h,i,j,k,l=this,n=b||{};(this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle="throttle"in n?n.throttle:16,this.minDistance="minDistance"in n?n.minDistance:5,this.throttle)?this._strokeMoveUpdate=(c=m.prototype._strokeUpdate,d=this.throttle,i=null,j=0,e||(e={}),k=function(){j=!1===e.leading?0:Date.now(),i=null,h=c.apply(f,g),i||(f=g=null)},function(){var a=Date.now();j||!1!==e.leading||(j=a);var b=d-(a-j);return f=this,g=arguments,b<=0||b>d?(i&&(clearTimeout(i),i=null),j=a,h=c.apply(f,g),i||(f=g=null)):i||!1===e.trailing||(i=setTimeout(k,b)),h}):this._strokeMoveUpdate=m.prototype._strokeUpdate,this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.onBegin=n.onBegin,this.onEnd=n.onEnd,this._canvas=a,this._ctx=a.getContext("2d"),this.clear(),this._handleMouseDown=function(a){1===a.which&&(l._mouseButtonDown=!0,l._strokeBegin(a))},this._handleMouseMove=function(a){l._mouseButtonDown&&l._strokeMoveUpdate(a)},this._handleMouseUp=function(a){1===a.which&&l._mouseButtonDown&&(l._mouseButtonDown=!1,l._strokeEnd(a))},this._handleTouchStart=function(a){if(1===a.targetTouches.length){var b=a.changedTouches[0];l._strokeBegin(b)}},this._handleTouchMove=function(a){a.preventDefault();var b=a.targetTouches[0];l._strokeMoveUpdate(b)},this._handleTouchEnd=function(a){a.target===l._canvas&&(a.preventDefault(),l._strokeEnd(a))},this.on()}k.prototype.velocityFrom=function(a){return this.time!==a.time?this.distanceTo(a)/(this.time-a.time):1},k.prototype.distanceTo=function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))},k.prototype.equals=function(a){return this.x===a.x&&this.y===a.y&&this.time===a.time},l.prototype.length=function(){for(var a=0,b=void 0,c=void 0,d=0;d<=10;d+=1){var e=d/10,f=this._point(e,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),g=this._point(e,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(d>0){var h=f-b,i=g-c;a+=Math.sqrt(h*h+i*i)}b=f,c=g}return a},l.prototype._point=function(a,b,c,d,e){return b*(1-a)*(1-a)*(1-a)+3*c*(1-a)*(1-a)*a+3*d*(1-a)*a*a+e*a*a*a},m.prototype.clear=function(){var a=this._ctx,b=this._canvas;a.fillStyle=this.backgroundColor,a.clearRect(0,0,b.width,b.height),a.fillRect(0,0,b.width,b.height),this._data=[],this._reset(),this._isEmpty=!0},m.prototype.fromDataURL=function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=new Image,e=c.ratio||window.devicePixelRatio||1,f=c.width||this._canvas.width/e,g=c.height||this._canvas.height/e;this._reset(),d.src=a,d.onload=function(){b._ctx.drawImage(d,0,0,f,g)},this._isEmpty=!1},m.prototype.toDataURL=function(a){var b;if("image/svg+xml"===a)return this._toSVG();for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return(b=this._canvas).toDataURL.apply(b,[a].concat(d))},m.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},m.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},m.prototype.isEmpty=function(){return this._isEmpty},m.prototype._strokeBegin=function(a){this._data.push([]),this._reset(),this._strokeUpdate(a),"function"==typeof this.onBegin&&this.onBegin(a)},m.prototype._strokeUpdate=function(a){var b=a.clientX,c=a.clientY,d=this._createPoint(b,c),e=this._data[this._data.length-1],f=e&&e[e.length-1],g=f&&d.distanceTo(f)<this.minDistance;if(!(f&&g)){var h=this._addPoint(d),i=h.curve,j=h.widths;i&&j&&this._drawCurve(i,j.start,j.end),this._data[this._data.length-1].push({x:d.x,y:d.y,time:d.time,color:this.penColor})}},m.prototype._strokeEnd=function(a){var b=this.points.length>2,c=this.points[0];if(!b&&c&&this._drawDot(c),c){var d=this._data[this._data.length-1],e=d[d.length-1];c.equals(e)||d.push({x:c.x,y:c.y,time:c.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(a)},m.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},m.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},m.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},m.prototype._createPoint=function(a,b,c){var d=this._canvas.getBoundingClientRect();return new k(a-d.left,b-d.top,c||new Date().getTime())},m.prototype._addPoint=function(a){var b=this.points;if(b.push(a),b.length>2){3===b.length&&b.unshift(b[0]);var c=this._calculateCurveControlPoints(b[0],b[1],b[2]).c2,d=this._calculateCurveControlPoints(b[1],b[2],b[3]).c1,e=new l(b[1],c,d,b[2]),f=this._calculateCurveWidths(e);return b.shift(),{curve:e,widths:f}}return{}},m.prototype._calculateCurveControlPoints=function(a,b,c){var d=a.x-b.x,e=a.y-b.y,f=b.x-c.x,g=b.y-c.y,h={x:(a.x+b.x)/2,y:(a.y+b.y)/2},i={x:(b.x+c.x)/2,y:(b.y+c.y)/2},j=Math.sqrt(d*d+e*e),l=Math.sqrt(f*f+g*g),m=h.x-i.x,n=h.y-i.y,o=l/(j+l),p={x:i.x+m*o,y:i.y+n*o},q=b.x-p.x,r=b.y-p.y;return{c1:new k(h.x+q,h.y+r),c2:new k(i.x+q,i.y+r)}},m.prototype._calculateCurveWidths=function(a){var b=a.startPoint,c=a.endPoint,d={start:null,end:null},e=this.velocityFilterWeight*c.velocityFrom(b)+(1-this.velocityFilterWeight)*this._lastVelocity,f=this._strokeWidth(e);return d.start=this._lastWidth,d.end=f,this._lastVelocity=e,this._lastWidth=f,d},m.prototype._strokeWidth=function(a){return Math.max(this.maxWidth/(a+1),this.minWidth)},m.prototype._drawPoint=function(a,b,c){var d=this._ctx;d.moveTo(a,b),d.arc(a,b,c,0,2*Math.PI,!1),this._isEmpty=!1},m.prototype._drawCurve=function(a,b,c){var d=this._ctx,e=c-b,f=Math.floor(a.length());d.beginPath();for(var g=0;g<f;g+=1){var h=g/f,i=h*h,j=i*h,k=1-h,l=k*k,m=l*k,n=m*a.startPoint.x;n+=3*l*h*a.control1.x+3*k*i*a.control2.x+j*a.endPoint.x;var o=m*a.startPoint.y;o+=3*l*h*a.control1.y+3*k*i*a.control2.y+j*a.endPoint.y;var p=b+j*e;this._drawPoint(n,o,p)}d.closePath(),d.fill()},m.prototype._drawDot=function(a){var b=this._ctx,c="function"==typeof this.dotSize?this.dotSize():this.dotSize;b.beginPath(),this._drawPoint(a.x,a.y,c),b.closePath(),b.fill()},m.prototype._fromData=function(a,b,c){for(var d=0;d<a.length;d+=1){var e=a[d];if(e.length>1)for(var f=0;f<e.length;f+=1){var g=e[f],h=new k(g.x,g.y,g.time),i=g.color;if(0===f)this.penColor=i,this._reset(),this._addPoint(h);else if(f!==e.length-1){var j=this._addPoint(h),l=j.curve,m=j.widths;l&&m&&b(l,m,i)}}else this._reset(),c(e[0])}},m.prototype._toSVG=function(){var a=this,b=this._data,c=this._canvas,d=Math.max(window.devicePixelRatio||1,1),e=c.width/d,f=c.height/d,g=document.createElementNS("http://www.w3.org/2000/svg","svg");g.setAttributeNS(null,"width",c.width),g.setAttributeNS(null,"height",c.height),this._fromData(b,function(a,b,c){var d=document.createElement("path");if(!isNaN(a.control1.x)&&!isNaN(a.control1.y)&&!isNaN(a.control2.x)&&!isNaN(a.control2.y)){var e="M "+a.startPoint.x.toFixed(3)+","+a.startPoint.y.toFixed(3)+" "+("C "+a.control1.x.toFixed(3)+",")+a.control1.y.toFixed(3)+" "+(a.control2.x.toFixed(3)+",")+a.control2.y.toFixed(3)+" "+a.endPoint.x.toFixed(3)+","+a.endPoint.y.toFixed(3);d.setAttribute("d",e),d.setAttribute("stroke-width",(2.25*b.end).toFixed(3)),d.setAttribute("stroke",c),d.setAttribute("fill","none"),d.setAttribute("stroke-linecap","round"),g.appendChild(d)}},function(b){var c=document.createElement("circle"),d="function"==typeof a.dotSize?a.dotSize():a.dotSize;c.setAttribute("r",d),c.setAttribute("cx",b.x),c.setAttribute("cy",b.y),c.setAttribute("fill",b.color),g.appendChild(c)});var h='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="0 0 '+e+" ")+f+'" width="'+e+'" height="'+f+'">',i=g.innerHTML;if(void 0===i){var j=document.createElement("dummy"),k=g.childNodes;j.innerHTML="";for(var l=0;l<k.length;l+=1)j.appendChild(k[l].cloneNode(!0));i=j.innerHTML}return"data:image/svg+xml;base64,"+btoa(h+i+"</svg>")},m.prototype.fromData=function(a){var b=this;this.clear(),this._fromData(a,function(a,c){return b._drawCurve(a,c.start,c.end)},function(a){return b._drawDot(a)}),this._data=a},m.prototype.toData=function(){return this._data};var n=a.i(63301),o=["canvasProps","clearOnResize"],p=function(a){(0,h.default)(j,a);var b=(0,i.default)(j);function j(){var a;(0,g.default)(this,j);for(var f=arguments.length,h=Array(f),i=0;i<f;i++)h[i]=arguments[i];return(a=b.call.apply(b,[this].concat(h))).staticThis=a.constructor,a._sigPad=null,a._canvas=null,a.setRef=function(b){a._canvas=b,null===a._canvas&&(a._sigPad=null)},a._excludeOurProps=function(){var b=a.props;return b.canvasProps,b.clearOnResize,(0,e.default)(b,o)},a.componentDidMount=function(){var b=a.getCanvas();a._sigPad=new m(b,a._excludeOurProps()),a._resizeCanvas(),a.on()},a.componentWillUnmount=function(){a.off()},a.componentDidUpdate=function(){Object.assign(a._sigPad,a._excludeOurProps())},a.getCanvas=function(){if(null===a._canvas)throw a.staticThis.refNullError;return a._canvas},a.getTrimmedCanvas=function(){var b=a.getCanvas(),c=document.createElement("canvas");return c.width=b.width,c.height=b.height,c.getContext("2d").drawImage(b,0,0),(0,n.default)(c)},a.getSignaturePad=function(){if(null===a._sigPad)throw a.staticThis.refNullError;return a._sigPad},a._checkClearOnResize=function(){a.props.clearOnResize&&a._resizeCanvas()},a._resizeCanvas=function(){var b,c,d=null!=(b=a.props.canvasProps)?b:{},e=d.width,f=d.height;if(void 0===e||void 0===f){var g=a.getCanvas(),h=Math.max(null!=(c=window.devicePixelRatio)?c:1,1);void 0===e&&(g.width=g.offsetWidth*h),void 0===f&&(g.height=g.offsetHeight*h),g.getContext("2d").scale(h,h),a.clear()}},a.render=function(){var b=a.props.canvasProps;return c.default.createElement("canvas",(0,d.default)({ref:a.setRef},b))},a.on=function(){return window.addEventListener("resize",a._checkClearOnResize),a.getSignaturePad().on()},a.off=function(){return window.removeEventListener("resize",a._checkClearOnResize),a.getSignaturePad().off()},a.clear=function(){return a.getSignaturePad().clear()},a.isEmpty=function(){return a.getSignaturePad().isEmpty()},a.fromDataURL=function(b,c){return a.getSignaturePad().fromDataURL(b,c)},a.toDataURL=function(b,c){return a.getSignaturePad().toDataURL(b,c)},a.fromData=function(b){return a.getSignaturePad().fromData(b)},a.toData=function(){return a.getSignaturePad().toData()},a}return(0,f.default)(j)}(c.Component);function q({onSave:a}){let d=(0,c.useRef)(null);return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p,{ref:d,penColor:"black",canvasProps:{width:500,height:180,className:"border rounded"}}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>d.current?.clear(),className:"border p-2",children:"נקה"}),(0,b.jsx)("button",{onClick:()=>{let b=d.current?.toDataURL("image/png");b&&a(b)},className:"border p-2",children:"שמור חתימה"})]})]})}p.propTypes={velocityFilterWeight:j.default.number,minWidth:j.default.number,maxWidth:j.default.number,minDistance:j.default.number,dotSize:j.default.oneOfType([j.default.number,j.default.func]),penColor:j.default.string,throttle:j.default.number,onEnd:j.default.func,onBegin:j.default.func,canvasProps:j.default.object,clearOnResize:j.default.bool},p.defaultProps={clearOnResize:!0},p.refNullError=Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.")}];

//# sourceMappingURL=_f9030d66._.js.map