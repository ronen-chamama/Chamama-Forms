{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/module.compiled.js","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","turbopack:///[project]/app/app/forms/[id]/submissions/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useParams } from \"next/navigation\";\r\nimport { auth, db } from \"@/lib/firebaseClient\";\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport { functions } from \"@/lib/firebaseClient\";\r\nimport { httpsCallable } from \"firebase/functions\";\r\nimport {\r\n  collection,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  orderBy,\r\n  query,\r\n  Timestamp,\r\n} from \"firebase/firestore\";\r\n\r\ntype Field = {\r\n  id: string;\r\n  type: \"richtext\" | \"text\" | \"phone\" | \"email\" | \"select\" | \"radio\" | \"checkbox\" | \"signature\";\r\n  label: string;\r\n  options?: string[];\r\n  required?: boolean;\r\n};\r\n\r\ntype Submission = {\r\n  id: string;\r\n  submittedAt?: Timestamp | { seconds: number; nanoseconds: number } | null;\r\n  answers?: Record<string, any>;\r\n  signatureUrl?: string;\r\n  pdfUrl?: string;\r\n  status?: string;\r\n};\r\n\r\nfunction toDate(ts: any): Date | null {\r\n  if (!ts) return null;\r\n  if (ts instanceof Date) return ts;\r\n  if (ts?.toDate) return ts.toDate();\r\n  if (typeof ts?.seconds === \"number\") return new Date(ts.seconds * 1000);\r\n  return null;\r\n}\r\n\r\nfunction formatDate(d?: Date | null) {\r\n  if (!d) return \"-\";\r\n  try {\r\n    return d.toLocaleString(\"he-IL\", { dateStyle: \"short\", timeStyle: \"short\" });\r\n  } catch {\r\n    return d.toISOString();\r\n  }\r\n}\r\n\r\n// הופך ערך גולמי לייצוג קריא לפי סוג שדה\r\nfunction prettyValue(field: Field | undefined, value: any): string {\r\n  if (value == null) return \"\";\r\n  if (!field) {\r\n    // אם אין לנו מידע על השדה (למקרה קצה) – החזר טקסט\r\n    if (Array.isArray(value)) return value.join(\", \");\r\n    return typeof value === \"object\" ? JSON.stringify(value) : String(value);\r\n  }\r\n\r\n  switch (field.type) {\r\n    case \"checkbox\":\r\n      return Array.isArray(value) ? value.join(\", \") : String(value);\r\n    case \"richtext\":\r\n      // הפשטה קצרה של HTML → טקסט\r\n      return String(value).replace(/<[^>]+>/g, \"\").trim();\r\n    default:\r\n      return Array.isArray(value) ? value.join(\", \") : String(value);\r\n  }\r\n}\r\n\r\nexport default function SubmissionsPage() {\r\n  const { id: formId } = useParams<{ id: string }>();\r\n  const [uid, setUid] = useState<string>(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [items, setItems] = useState<Submission[]>([]);\r\n  const [schema, setSchema] = useState<Field[]>([]);\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [selected, setSelected] = useState<Submission | null>(null);\r\n\r\n  // התחברות חובה\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, (u) => {\r\n      if (!u) location.href = \"/login\";\r\n      else setUid(u.uid);\r\n    });\r\n    return () => unsub();\r\n  }, []);\r\n\r\n  // טען את ה-schema של הטופס + ההגשות\r\n  useEffect(() => {\r\n    if (!uid) return;\r\n    (async () => {\r\n      setLoading(true);\r\n      try {\r\n        // 1) טען טופס (לצורך schema → id→label)\r\n        const f = await getDoc(doc(db, \"forms\", formId));\r\n        const data = f.data() as any;\r\n        const formSchema: Field[] = (data?.schema || []) as Field[];\r\n        setSchema(formSchema);\r\n\r\n        // 2) טען הגשות\r\n        const q = query(\r\n          collection(db, \"forms\", formId, \"submissions\"),\r\n          orderBy(\"submittedAt\", \"desc\")\r\n        );\r\n        const snap = await getDocs(q);\r\n        const arr: Submission[] = snap.docs.map((d) => ({\r\n          id: d.id,\r\n          ...(d.data() as any),\r\n        }));\r\n        setItems(arr);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [uid, formId]);\r\n\r\n  // מיפוי מהיר של fieldId → Field (לשימוש בהצגה)\r\n  const fieldById = useMemo(() => {\r\n    const map = new Map<string, Field>();\r\n    schema.forEach((f) => map.set(f.id, f));\r\n    return map;\r\n  }, [schema]);\r\n\r\n  // טקסט חיפוש: מחפש בתוך \"שם שדה: ערך\" מאוחד\r\n  const filtered = useMemo(() => {\r\n    if (!filter.trim()) return items;\r\n    const f = filter.trim().toLowerCase();\r\n    return items.filter((s) => {\r\n      const parts: string[] = [];\r\n      const answers = s.answers || {};\r\n      for (const [fid, val] of Object.entries(answers)) {\r\n        const field = fieldById.get(fid);\r\n        const label = field?.label || fid;\r\n        const pretty = prettyValue(field, val);\r\n        parts.push(`${label}: ${pretty}`);\r\n      }\r\n      return parts.join(\" | \").toLowerCase().includes(f);\r\n    });\r\n  }, [items, filter, fieldById]);\r\n\r\n  const [making, setMaking] = useState<string | null>(null);\r\n\r\nasync function makePdfFor(submissionId: string) {\r\n  try {\r\n    setMaking(submissionId);\r\n    const fn = httpsCallable(functions, \"makePdf\");\r\n    const res: any = await fn({ formId, submissionId });\r\n    const nextUrl: string = res?.data?.pdfUrl || \"\";\r\nconst fileName: string = res?.data?.fileName || `submission-${submissionId}.pdf`;\r\n\r\n// עדכון השורה בטבלה\r\nsetItems(prev =>\r\n  prev.map(it => (it.id === submissionId ? { ...it, pdfUrl: nextUrl } : it))\r\n);\r\n\r\n// נסה להוריד מיד (עדיף כשהקריאה מגיעה מלחיצה של המשתמש)\r\nif (nextUrl) {\r\n  const a = document.createElement(\"a\");\r\n  a.href = nextUrl;\r\n  a.download = fileName;                  // יעבוד ברוב הדפדפנים; השם יילקח מה-Content-Disposition אם הדפדפן מתעלם\r\n  a.rel = \"noopener noreferrer\";\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  a.remove();\r\n} else {\r\n  console.warn(\"makePdf returned no pdfUrl\", res);\r\n}\r\n\r\n  } catch (e:any) {\r\n    alert(\"שגיאה ביצירת PDF: \" + (e?.message || e));\r\n  } finally {\r\n    setMaking(null);\r\n  }\r\n}\r\n\r\n  // ייצוא CSV: מייצר עמודות לפי ה-schema (Labels) כדי לקבל \"שם השדה: הערך\"\r\n  function exportCSV() {\r\n    // עמודות קבועות\r\n    const fixedHeaders = [\"id\", \"submittedAt\", \"status\", \"signatureUrl\", \"pdfUrl\"];\r\n    // עמודות דינמיות לפי סדר ה-schema\r\n    const dynamicHeaders = schema.map((f) => f.label);\r\n    const header = [...fixedHeaders, ...dynamicHeaders];\r\n\r\n    const rows = filtered.map((s) => {\r\n      const fixed = [\r\n        s.id,\r\n        formatDate(toDate(s.submittedAt)),\r\n        s.status || \"\",\r\n        s.signatureUrl || \"\",\r\n        s.pdfUrl || \"\",\r\n      ];\r\n      const answers = s.answers || {};\r\n      const dynamic = schema.map((f) => prettyValue(f, answers[f.id]));\r\n      return [...fixed, ...dynamic];\r\n    });\r\n\r\n    const csv =\r\n      header.join(\",\") +\r\n      \"\\n\" +\r\n      rows\r\n        .map((r) =>\r\n          r\r\n            .map((cell) => {\r\n              const str = String(cell ?? \"\");\r\n              if (str.includes(\",\") || str.includes(\"\\n\") || str.includes('\"')) {\r\n                return `\"${str.replace(/\"/g, '\"\"')}\"`;\r\n              }\r\n              return str;\r\n            })\r\n            .join(\",\")\r\n        )\r\n        .join(\"\\n\");\r\n\r\n    const blob = new Blob([csv], { type: \"text/csv;charset=utf-8\" });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement(\"a\");\r\n    a.href = url;\r\n    const stamp = new Date().toISOString().slice(0, 19).replace(/[:T]/g, \"-\");\r\n    a.download = `submissions-${formId}-${stamp}.csv`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  }\r\n\r\n  return (\r\n    <main dir=\"rtl\" className=\"p-6 max-w-6xl mx-auto\">\r\n      <div className=\"flex items-center justify-between gap-3 mb-4\">\r\n        <h1 className=\"text-2xl font-semibold\">הגשות לטופס</h1>\r\n        <div className=\"flex items-center gap-2\">\r\n          <input\r\n            className=\"border p-2 rounded w-64\"\r\n            placeholder=\"חיפוש לפי שם שדה או ערך…\"\r\n            value={filter}\r\n            onChange={(e) => setFilter(e.target.value)}\r\n          />\r\n          <button onClick={exportCSV} className=\"border p-2 rounded\">\r\n            ייצוא CSV\r\n          </button>\r\n          <a href={`/app/forms/${formId}/edit`} className=\"border p-2 rounded\">\r\n            חזרה לעריכה\r\n          </a>\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div>טוען…</div>\r\n      ) : filtered.length === 0 ? (\r\n        <div>אין הגשות עדיין.</div>\r\n      ) : (\r\n        <div className=\"space-y-3\">\r\n          {filtered.map((s) => {\r\n            const date = formatDate(toDate(s.submittedAt));\r\n            const answers = s.answers || {};\r\n            return (\r\n              <div key={s.id} className=\"border rounded p-3 bg-white\">\r\n                <div className=\"flex flex-wrap items-center justify-between gap-3\">\r\n                  <div className=\"text-sm text-gray-600\">\r\n                    נשלח: {date} | סטטוס: {s.status || \"-\"}\r\n                  </div>\r\n                  <div className=\"flex items-center gap-3\">\r\n                    {s.signatureUrl ? (\r\n                      <a href={s.signatureUrl} target=\"_blank\" className=\"underline\">\r\n                        חתימה\r\n                      </a>\r\n                    ) : (\r\n                      <span className=\"text-gray-400\">אין חתימה</span>\r\n                    )}\r\n                    { s.pdfUrl ? (\r\n  <a href={s.pdfUrl} target=\"_blank\" className=\"underline\">PDF</a>\r\n) : (\r\n  <button\r\n    onClick={() => makePdfFor(s.id)}\r\n    className=\"border px-2 py-1 rounded\"\r\n    disabled={making === s.id}\r\n    title=\"הפק מסמך PDF רשמי\"\r\n  >\r\n    {making === s.id ? \"יוצר…\" : \"הפק PDF\"}\r\n  </button>\r\n)}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mt-3 grid sm:grid-cols-2 lg:grid-cols-3 gap-2\">\r\n                  {schema.map((f) => {\r\n                    const val = answers[f.id];\r\n                    const pv = prettyValue(f, val);\r\n                    // אל תציג שדה חתימה מתוך answers (החתימה מוצגת כקישור/תמונה למעלה)\r\n                    if (f.type === \"signature\") return null;\r\n                    return (\r\n                      <div key={f.id} className=\"border rounded p-2\">\r\n                        <div className=\"text-xs text-gray-600 mb-1\">{f.label}</div>\r\n                        <div className=\"text-sm break-words\">{pv || <span className=\"text-gray-400\">—</span>}</div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime","React"],"mappings":"kKAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,gBAAgB,+BCFvCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,kBAAkB,+BCFzCL,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACG,kBAAkB,+sBCwBjCN,EAAOC,OAAO,CAAGC,EAAQ,CAAA,CAAA,IAAA,iCC1BjCF,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEU,eAAe,+BCFxCb,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEW,KAAK,iECA9B,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,CAAA,CAAA,MAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OA2BA,SAAS,EAAO,CAAO,SACrB,AAAK,EACD,EADA,AAAK,WACS,KAAa,CAAP,CACpB,GAAI,OAAe,CAAP,CAAU,MAAM,GACL,UAAU,AAAjC,OAAO,GAAI,QAA6B,IAAI,KAAK,AAAa,MAAV,OAAO,EACxD,KAJS,IAKlB,CAEA,SAAS,EAAW,CAAe,EACjC,GAAI,CAAC,EAAG,MAAO,IACf,GAAI,CACF,OAAO,EAAE,cAAc,CAAC,QAAS,CAAE,UAAW,QAAS,UAAW,OAAQ,EAC5E,CAAE,KAAM,CACN,OAAO,EAAE,WAAW,EACtB,CACF,CAGA,SAAS,EAAY,CAAwB,CAAE,CAAU,EACvD,GAAI,AAAS,QAAM,MAAO,GAC1B,GAAI,CAAC,OAAO,EAEV,AAAI,MAAM,OAAO,CAAC,GAAe,EAAM,GAAb,CAAiB,CAAC,MACpB,UAAjB,OAAO,EAAqB,KAAK,SAAS,CAAC,GAAS,OAAO,GAGpE,OAAQ,EAAM,IAAI,EAChB,IAAK,WAKL,QAJE,OAAO,MAAM,OAAO,CAAC,GAAS,EAAM,IAAI,CAAC,MAAQ,OAAO,EAC1D,KAAK,WAEH,OAAO,OAAO,GAAO,OAAO,CAAC,WAAY,IAAI,IAAI,EAGrD,CACF,CAEe,SAAS,IACtB,GAAM,CAAE,GAAI,CAAM,CAAE,CAAG,CAAA,EAAA,EAAA,SAAA,AAAS,IAC1B,CAAC,EAAK,EAAO,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,IACjC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAe,EAAE,EAC7C,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAU,EAAE,EAC1C,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC/B,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAA4B,MAG5D,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAQ,CAAA,EAAA,EAAA,kBAAA,AAAkB,EAAC,EAAA,IAAI,CAAG,AAAD,IAChC,EACA,EAAO,EAAE,GAAG,EADT,SAAS,IAAI,CAAG,QAE1B,GACA,MAAO,IAAM,GACf,EAAG,EAAE,EAGL,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACH,GACL,CAAC,CADS,SAER,GAAW,GACX,GAAI,CAGF,IAAM,EAAO,CADH,MAAM,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,CAAA,EAAA,EAAA,GAAG,AAAH,EAAI,EAAA,EAAE,CAAE,QAAS,GAAA,EACzB,IAAI,GACb,EAAuB,GAAM,QAAU,EAAE,CAC/C,EAAU,GAGV,IAAM,EAAI,CAAA,EAAA,EAAA,KAAA,AAAK,EACb,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,EAAE,CAAE,QAAS,EAAQ,eAChC,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,cAAe,SAGnB,EAAoB,CADb,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,EAAA,EACI,IAAI,CAAC,GAAG,CAAC,AAAC,IAAO,AAAD,CAC7C,GAAI,EAAE,EAAE,CACR,GAAI,EAAE,IAAI,EAAE,CACd,CAAC,EACD,EAAS,EACX,QAAU,CACR,GAAW,EACb,EACF,CAAC,EACH,EAAG,CAAC,EAAK,EAAO,EAGhB,IAAM,EAAY,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACxB,IAAM,EAAM,IAAI,IAEhB,OADA,EAAO,OAAO,CAAC,AAAC,GAAM,EAAI,GAAG,CAAC,EAAE,EAAE,CAAE,IAC7B,CACT,EAAG,CAAC,EAAO,EAGL,EAAW,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACvB,GAAI,CAAC,EAAO,IAAI,GAAI,OAAO,EAC3B,IAAM,EAAI,EAAO,IAAI,GAAG,WAAW,GACnC,OAAO,EAAM,MAAM,CAAC,AAAC,IACnB,IAAM,EAAkB,EAAE,CAE1B,IAAK,GAAM,CAAC,EAAK,EAAI,GAAI,OAAO,OAAO,CADvB,AACwB,EADtB,OAAO,EAAI,CAAC,GACoB,CAChD,IAAM,EAAQ,EAAU,GAAG,CAAC,GACtB,EAAQ,GAAO,OAAS,EACxB,EAAS,EAAY,EAAO,GAClC,EAAM,IAAI,CAAC,CAAA,EAAG,EAAM,EAAE,EAAE,EAAA,CAAQ,CAClC,CACA,OAAO,EAAM,IAAI,CAAC,OAAO,WAAW,GAAG,QAAQ,CAAC,EAClD,EACF,EAAG,CAAC,EAAO,EAAQ,EAAU,EAEvB,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAEtD,eAAe,EAAW,CAAoB,EAC5C,GAAI,CACF,EAAU,GACV,IAAM,EAAK,CAAA,EAAA,EAAA,aAAa,AAAb,EAAc,EAAA,SAAS,CAAE,WAC9B,EAAW,MAAM,EAAG,QAAE,eAAQ,CAAa,GAC3C,EAAkB,GAAK,MAAM,QAAU,GAC3C,EAAmB,GAAK,MAAM,UAAY,CAAC,WAAW,EAAE,EAAa,IAAI,CAAC,CAQhF,GALA,EAAS,GACP,EAAK,GAAG,CAAC,GAAO,EAAG,EAAE,GAAK,EAAe,CAAE,GAAG,CAAE,CAAE,OAAQ,CAAQ,EAAI,IAIpE,EAAS,CACX,IAAM,EAAI,SAAS,aAAa,CAAC,KACjC,EAAE,IAAI,CAAG,EACT,EAAE,QAAQ,CAAG,EACb,EAAE,GAAG,CAAG,EADgC,oBAExC,SAAS,IAAI,CAAC,WAAW,CAAC,GAC1B,EAAE,KAAK,GACP,EAAE,MAAM,EACV,GALkH,GAMhH,CADK,OACG,IAAI,CAAC,6BAA8B,EAG3C,CAAE,MAAO,EAAO,CACd,MAAM,sBAAwB,CAAD,EAAI,SAAW,CAAC,EAC/C,QAAU,CACR,EAAU,KACZ,CACF,CAkDE,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,IAAI,MAAM,UAAU,kCACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kCAAyB,gBACvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,UAAU,0BACV,YAAY,2BACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAU,EAAE,MAAM,CAAC,KAAK,IAE3C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,QA1DhB,CA0DyB,QA1DhB,EAKP,IAAM,EAAS,CAHO,KAAM,cAAe,SAAU,eAAgB,YAE9C,EAAO,GAAG,CAAC,AAAC,GAAM,EAAE,KAAK,EACG,CAE7C,EAAO,EAAS,GAAG,CAAC,AAAC,IACzB,IAAM,EAAQ,CACZ,EAAE,EAAE,CACJ,EAAW,EAAO,EAAE,WAAW,GAC/B,EAAE,MAAM,EAAI,GACZ,EAAE,YAAY,EAAI,GAClB,EAAE,MAAM,EAAI,GACb,CACK,EAAU,EAAE,OAAO,EAAI,CAAC,EAE9B,MAAO,IAAI,KADK,EAAO,GAAG,CAAC,AAAC,GAAM,EAAY,EAAG,CAAO,CAAC,EAAE,EAAE,CAAC,GACjC,AAC/B,GAmBM,EAAO,IAAI,KAAK,CAhBpB,EAAO,IAAI,CAAC,KACZ,KACA,EACG,GAAG,CAAC,AAAC,GACJ,EACG,GAAG,CAAC,AAAC,IACJ,IAAM,EAAM,OAAO,GAAQ,WACvB,AAAJ,EAAQ,QAAQ,CAAC,MAAQ,EAAI,QAAQ,CAAC,OAAS,EAAI,QAAQ,CAAC,KACnD,CAAC,AADwD,CACvD,EAAE,EAAI,OAAO,CAAC,KAAM,MAAM,CAAC,CAAC,CAEhC,CACT,GACC,IAAI,CAAC,MAET,IAAI,CAAC,MAEiB,CAAE,CAAE,KAAM,wBAAyB,GACxD,EAAM,IAAI,eAAe,CAAC,GAC1B,EAAI,SAAS,aAAa,CAAC,IACjC,GAAE,IAAI,CAAG,EACT,IAAM,EAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,EAAG,IAAI,OAAO,CAAC,QAAS,KACrE,EAAE,QAAQ,CAAG,CAAC,YAAY,EAAE,EAAO,CAAC,EAAE,EAAM,IAAI,CAAC,CACjD,EAAE,KAAK,GACP,IAAI,eAAe,CAAC,EACtB,EAaoC,UAAU,8BAAqB,cAG3D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAM,CAAC,WAAW,EAAE,EAAO,KAAK,CAAC,CAAE,UAAU,8BAAqB,sBAMxE,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAI,UACiB,IAApB,EAAS,MAAM,CACjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAI,qBAEL,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAS,GAAG,CAAC,AAAC,IACb,IAAM,EAAO,EAAW,EAAO,EAAE,WAAW,GACtC,EAAU,EAAE,OAAO,EAAI,CAAC,EAC9B,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAe,UAAU,wCACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCAAwB,SAC9B,EAAK,aAAW,EAAE,MAAM,EAAI,OAErC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACZ,EAAE,YAAY,CACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAM,EAAE,YAAY,CAAE,OAAO,SAAS,UAAU,qBAAY,UAI/D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,cAEhC,EAAE,MAAM,CAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAM,EAAE,MAAM,CAAE,OAAO,SAAS,UAAU,qBAAY,QAEzD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAW,EAAE,EAAE,EAC9B,UAAU,2BACV,SAAU,IAAW,EAAE,EAAE,CACzB,MAAM,6BAEL,IAAW,EAAE,EAAE,CAAG,QAAU,kBAMjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yDACZ,EAAO,GAAG,CAAC,AAAC,IACX,IAAM,EAAM,CAAO,CAAC,EAAE,EAAE,CAAC,CACnB,EAAK,EAAY,EAAG,SAE1B,AAAe,aAAa,CAAxB,EAAE,IAAI,CAAyB,KAEjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAe,UAAU,+BACxB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA8B,EAAE,KAAK,GACpD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+BAAuB,GAAM,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,UAFpE,EAAE,EAAE,CAKlB,OAxCM,EAAE,EAAE,CA4ClB,OAKV","ignoreList":[0,1,2,3,4,5]}