{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/chamama-forms/lib/firebaseClient.ts"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\";\r\nimport { getAuth, connectAuthEmulator } from \"firebase/auth\";\r\nimport { getFirestore, connectFirestoreEmulator } from \"firebase/firestore\";\r\nimport { getStorage, connectStorageEmulator } from \"firebase/storage\";\r\nimport { getFunctions, connectFunctionsEmulator } from \"firebase/functions\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FB_API_KEY!,\r\n  authDomain: process.env.NEXT_PUBLIC_FB_AUTH_DOMAIN!,\r\n  projectId: process.env.NEXT_PUBLIC_FB_PROJECT_ID!,\r\n  storageBucket: process.env.NEXT_PUBLIC_FB_STORAGE_BUCKET!,\r\n  appId: process.env.NEXT_PUBLIC_FB_APP_ID!,\r\n};\r\n\r\nexport const app = getApps().length ? getApp() : initializeApp(firebaseConfig);\r\n\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\nexport const storage = getStorage(app);\r\n// חשוב: אזור תואם ל-export של הפונקציה\r\nexport const functions = getFunctions(app, \"us-central1\");\r\n\r\n// חיבור אמולטורים לוקאלית\r\nif (typeof window !== \"undefined\" && location.hostname === \"localhost\") {\r\n  connectAuthEmulator(auth, \"http://127.0.0.1:9099\");\r\n  connectFirestoreEmulator(db, \"127.0.0.1\", 8080);\r\n  connectStorageEmulator(storage, \"127.0.0.1\", 9199);\r\n  connectFunctionsEmulator(functions, \"127.0.0.1\", 5001);\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,KAAK;AACP;AAEO,MAAM,MAAM,IAAA,2KAAO,IAAG,MAAM,GAAG,IAAA,0KAAM,MAAK,IAAA,iLAAa,EAAC;AAExD,MAAM,OAAO,IAAA,6KAAO,EAAC;AACrB,MAAM,KAAK,IAAA,iLAAY,EAAC;AACxB,MAAM,UAAU,IAAA,kMAAU,EAAC;AAE3B,MAAM,YAAY,IAAA,sLAAY,EAAC,KAAK;AAE3C,0BAA0B;AAC1B","debugId":null}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///C:/chamama-forms/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { auth } from \"@/lib/firebaseClient\";\r\nimport { onAuthStateChanged, signInWithEmailAndPassword } from \"firebase/auth\";\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [pass, setPass] = useState(\"\");\r\n  const [err, setErr] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // אם כבר מחוברים — לעבור ל־/forms\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, (u) => {\r\n      if (u) router.replace(\"/\");\r\n    });\r\n    return () => unsub();\r\n  }, [router]);\r\n\r\n  async function onSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setErr(null);\r\n    setLoading(true);\r\n    try {\r\n      await signInWithEmailAndPassword(auth, email.trim(), pass);\r\n      router.replace(\"/\"); // ← היה /app\r\n    } catch (e: any) {\r\n      setErr(e?.message || \"Login failed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main className=\"min-h-screen flex items-center justify-center p-6\">\r\n      <form onSubmit={onSubmit} className=\"w-full max-w-sm space-y-4 border rounded-lg bg-white p-6\">\r\n        <h1 className=\"text-xl font-semibold text-center\">כניסה</h1>\r\n        {err && <div className=\"text-red-600 text-sm\">{err}</div>}\r\n        <input\r\n          className=\"w-full border rounded p-2\"\r\n          placeholder=\"אימייל\"\r\n          type=\"email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          dir=\"ltr\"\r\n        />\r\n        <input\r\n          className=\"w-full border rounded p-2\"\r\n          placeholder=\"סיסמה\"\r\n          type=\"password\"\r\n          value={pass}\r\n          onChange={(e) => setPass(e.target.value)}\r\n          dir=\"ltr\"\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          disabled={loading}\r\n          className=\"w-full rounded bg-blue-600 text-white py-2 disabled:opacity-50\"\r\n        >\r\n          {loading ? \"נכנס...\" : \"כניסה\"}\r\n        </button>\r\n      </form>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAgB;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,kCAAkC;IAClC,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,IAAA,wLAAkB,EAAC,6HAAI,EAAE,CAAC;YACtC,IAAI,GAAG,OAAO,OAAO,CAAC;QACxB;QACA,OAAO,IAAM;IACf,GAAG;QAAC;KAAO;IAEX,eAAe,SAAS,CAAkB;QACxC,EAAE,cAAc;QAChB,OAAO;QACP,WAAW;QACX,IAAI;YACF,MAAM,IAAA,gMAA0B,EAAC,6HAAI,EAAE,MAAM,IAAI,IAAI;YACrD,OAAO,OAAO,CAAC,MAAM,aAAa;QACpC,EAAE,OAAO,GAAQ;YACf,OAAO,GAAG,WAAW;QACvB,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAK,WAAU;kBACd,cAAA,8OAAC;YAAK,UAAU;YAAU,WAAU;;8BAClC,8OAAC;oBAAG,WAAU;8BAAoC;;;;;;gBACjD,qBAAO,8OAAC;oBAAI,WAAU;8BAAwB;;;;;;8BAC/C,8OAAC;oBACC,WAAU;oBACV,aAAY;oBACZ,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oBACxC,KAAI;;;;;;8BAEN,8OAAC;oBACC,WAAU;oBACV,aAAY;oBACZ,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oBACvC,KAAI;;;;;;8BAEN,8OAAC;oBACC,MAAK;oBACL,UAAU;oBACV,WAAU;8BAET,UAAU,YAAY;;;;;;;;;;;;;;;;;AAKjC","debugId":null}}]
}