module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},21346,a=>{"use strict";a.s(["default",()=>i],21346);var b=a.i(87924),c=a.i(72131),d=a.i(11769),e=a.i(99996);a.i(30485);var f=a.i(31052);a.i(60121);var g=a.i(5420);async function h(a,b){let c=`signatures/${a}/${Date.now()}.png`,d=(0,g.ref)(e.storage,c);return await (0,g.uploadString)(d,b,"data_url"),{url:await (0,g.getDownloadURL)(d),path:c}}function i(){let[a,g]=(0,c.useState)(null),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)("");async function o(b){if(a){l(""),j(!0);try{let{url:c}=await h(a.uid,b);n(c),l("✅ נשמר ב-Storage")}catch(a){l("שגיאה: "+(a?.message||a))}finally{j(!1)}}}return(0,c.useEffect)(()=>{let a=(0,f.onAuthStateChanged)(e.auth,a=>{g(a),a||(location.href="/login")});return()=>a()},[]),(0,b.jsxs)("main",{dir:"rtl",className:"p-6 max-w-xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-2xl mb-4",children:"דמו שמירת חתימה"}),(0,b.jsx)(d.default,{onSave:o}),(0,b.jsx)("div",{className:"mt-3 text-sm",children:i?"שומר...":k}),m&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("a",{className:"text-blue-600 underline",href:m,target:"_blank",children:"פתח קובץ"}),(0,b.jsx)("div",{className:"border mt-2 p-2",children:(0,b.jsx)("img",{src:m,alt:"חתימה",className:"max-w-full"})})]})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__201d1ec6._.js.map