{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/module.compiled.js","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","turbopack:///[project]/app/app/app/page.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { auth, db } from \"@/lib/firebaseClient\";\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport { collection, query, where, getDocs, addDoc, serverTimestamp } from \"firebase/firestore\";\r\n\r\nexport default function AppHome() {\r\n  const [uid,setUid]=useState<string>(\"\"); const [forms,setForms]=useState<any[]>([]);\r\n  useEffect(()=>{ const u=onAuthStateChanged(auth,(x)=>{ if(!x) location.href=\"/login\"; else setUid(x.uid); }); return ()=>u();},[]);\r\n  useEffect(()=>{ if(!uid) return; (async()=>{\r\n    const q=query(collection(db,\"forms\"), where(\"ownerUid\",\"==\",uid));\r\n    const snap=await getDocs(q); setForms(snap.docs.map(d=>({id:d.id,...d.data()})));\r\n  })(); },[uid]);\r\n\r\n  async function createNew(){\r\n    const docRef=await addDoc(collection(db,\"forms\"),{\r\n      ownerUid: uid, title: \"טופס חדש\", targetGroups: [], notifyStaffEmails: [],\r\n      schema: [], createdAt: serverTimestamp(), updatedAt: serverTimestamp()\r\n    });\r\n    location.href=`/app/forms/${docRef.id}/edit`;\r\n  }\r\n\r\n  return (\r\n    <main dir=\"rtl\" className=\"p-6 max-w-3xl mx-auto\">\r\n      <h1 className=\"text-2xl mb-4\">הטפסים שלי</h1>\r\n      <button className=\"border p-2 mb-4\" onClick={createNew}>+ טופס חדש</button>\r\n      <ul className=\"space-y-2\">\r\n        {forms.map(f=>(\r\n          <li key={f.id} className=\"border p-2 rounded flex justify-between\">\r\n            <div>{f.title}</div>\r\n            <div className=\"space-x-2 space-x-reverse\">\r\n              <a className=\"underline\" href={`/app/forms/${f.id}/edit`}>עריכה</a>\r\n               <a className=\"underline\" href={`/app/forms/${f.id}/submissions`}>הגשות</a>\r\n              <a className=\"underline\" href={`/f/${f.id}`} target=\"_blank\" rel=\"noopener noreferrer\">קישור להורה</a>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </main>\r\n  );\r\n}\r\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"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","ignoreList":[0,1,2]}