{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/module.compiled.js","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","turbopack:///[project]/app/login/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","\"use client\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { auth } from \"@/lib/firebaseClient\";\r\nimport { signInWithEmailAndPassword, sendPasswordResetEmail, onAuthStateChanged } from \"firebase/auth\";\r\nimport { useSearchParams, useRouter } from \"next/navigation\";\r\n\r\nexport default function LoginPage() {\r\n  const [email,setEmail]=useState(\"\");\r\n  const [password,setPassword]=useState(\"\");\r\n  const [msg,setMsg]=useState(\"\");\r\n  const searchParams = useSearchParams();\r\n  const router = useRouter();\r\n\r\n  // אם כבר מחוברים — ננווט מיד\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, (u) => {\r\n      if (u) {\r\n        const next = searchParams.get(\"next\") || \"/app\"; // ברירת מחדל\r\n        router.replace(next);\r\n      }\r\n    });\r\n    return () => unsub();\r\n  }, [router, searchParams]);\r\n\r\n  async function onLogin(e:any){\r\n    e.preventDefault();\r\n    setMsg(\"\");\r\n    try{\r\n      await signInWithEmailAndPassword(auth,email,password);\r\n      const next = searchParams.get(\"next\") || \"/app\"; // אם מגיעים עם next=?ננווט אליו\r\n      router.replace(next);\r\n    }catch(err:any){\r\n      setMsg(err.message);\r\n    }\r\n  }\r\n\r\n  async function onReset(){\r\n    if(!email){ setMsg(\"נא להקליד אימייל\"); return; }\r\n    try{ await sendPasswordResetEmail(auth,email); setMsg(\"נשלח מייל איפוס סיסמה\"); }\r\n    catch(err:any){ setMsg(err.message); }\r\n  }\r\n\r\n  return (\r\n    <main dir=\"rtl\" className=\"p-6 max-w-md mx-auto\">\r\n      <h1 className=\"text-2xl mb-4\">התחברות</h1>\r\n      <form onSubmit={onLogin} className=\"flex flex-col gap-3\">\r\n        <input placeholder=\"אימייל\" value={email} onChange={e=>setEmail(e.target.value)} className=\"border p-2\" />\r\n        <input placeholder=\"סיסמה\" type=\"password\" value={password} onChange={e=>setPassword(e.target.value)} className=\"border p-2\" />\r\n        <button className=\"border p-2\">כניסה</button>\r\n      </form>\r\n      <button onClick={onReset} className=\"underline mt-3\">שכחתי סיסמה</button>\r\n      {msg && <p className=\"mt-3 text-sm text-red-600\">{msg}</p>}\r\n    </main>\r\n  );\r\n}\r\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime","React"],"mappings":"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","ignoreList":[0,1,2,3,4,5]}